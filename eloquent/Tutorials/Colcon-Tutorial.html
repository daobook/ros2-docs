<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Using colcon to build packages &mdash; ROS 2 Documentation: Eloquent  文档</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="canonical" href="https://docs.ros.org/en/eloquent/Tutorials/Colcon-Tutorial.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="../_static/tabs.js"></script>
        <script src="../_static/translations.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="ament_cmake user documentation" href="Ament-CMake-Documentation.html" />
    <link rel="prev" title="Developing a ROS 2 package" href="Developing-a-ROS-2-Package.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> ROS 2 Documentation: Eloquent
            <img src="../_static/eloquent-small.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="在文档中搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Linux-Development-Setup.html">Building ROS 2 on Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Linux-Install-Binary.html">Installing ROS 2 on Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Linux-Install-Debians.html">Installing ROS 2 via Debian Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/macOS-Development-Setup.html">Building ROS 2 on macOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/macOS-Install-Binary.html">Installing ROS 2 on macOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Windows-Development-Setup.html">Building ROS 2 on Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Windows-Install-Binary.html">Installing ROS 2 on Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Fedora-Development-Setup.html">Building ROS 2 on Fedora Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Latest-Development-Setup.html">Installing the latest ROS 2 development</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Maintaining-a-Source-Checkout.html">Maintaining a source checkout of ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Prerelease-Testing.html">Pre-release Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/DDS-Implementations.html">Installing DDS implementations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Install-Connext-Security-Plugins.html">Installing Connext security plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Install-Connext-University-Eval.html">Installing University or Evaluation versions of RTI Connext DDS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Working-with-Eclipse-CycloneDDS.html">Working with Eclipse Cyclone DDS</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../Tutorials.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Configuring-ROS2-Environment.html">Configuring your ROS 2 environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="Turtlesim/Introducing-Turtlesim.html">Introducing turtlesim and rqt</a></li>
<li class="toctree-l2"><a class="reference internal" href="Understanding-ROS2-Nodes.html">Understanding ROS 2 nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="Topics/Understanding-ROS2-Topics.html">Understanding ROS 2 topics</a></li>
<li class="toctree-l2"><a class="reference internal" href="Services/Understanding-ROS2-Services.html">Understanding ROS 2 services</a></li>
<li class="toctree-l2"><a class="reference internal" href="Parameters/Understanding-ROS2-Parameters.html">Understanding ROS 2 parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="Understanding-ROS2-Actions.html">Understanding ROS 2 actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="Rqt-Console/Using-Rqt-Console.html">Using rqt_console</a></li>
<li class="toctree-l2"><a class="reference internal" href="Launch-Files/Creating-Launch-Files.html">Creating a launch file</a></li>
<li class="toctree-l2"><a class="reference internal" href="Ros2bag/Recording-And-Playing-Back-Data.html">Recording and playing back data</a></li>
<li class="toctree-l2"><a class="reference internal" href="Workspace/Creating-A-Workspace.html">Creating a workspace</a></li>
<li class="toctree-l2"><a class="reference internal" href="Creating-Your-First-ROS2-Package.html">Creating your first ROS 2 package</a></li>
<li class="toctree-l2"><a class="reference internal" href="Writing-A-Simple-Cpp-Publisher-And-Subscriber.html">Writing a simple publisher and subscriber (C++)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Writing-A-Simple-Py-Publisher-And-Subscriber.html">Writing a simple publisher and subscriber (Python)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Writing-A-Simple-Cpp-Service-And-Client.html">Writing a simple service and client (C++)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Writing-A-Simple-Py-Service-And-Client.html">Writing a simple service and client (Python)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Custom-ROS2-Interfaces.html">Creating custom ROS 2 msg and srv files</a></li>
<li class="toctree-l2"><a class="reference internal" href="Single-Package-Define-And-Use-Interface.html">Expanding on ROS 2 interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="Using-Parameters-In-A-Class-CPP.html">Using parameters in a class (C++)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Using-Parameters-In-A-Class-Python.html">Using parameters in a class (Python)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Getting-Started-With-Ros2doctor.html">Getting started with ros2doctor</a></li>
<li class="toctree-l2"><a class="reference internal" href="Actions/Creating-an-Action.html">Creating an action</a></li>
<li class="toctree-l2"><a class="reference internal" href="Actions/Writing-a-Cpp-Action-Server-Client.html">Writing an action server and client (C++)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Actions/Writing-a-Py-Action-Server-Client.html">Writing an action server and client (Python)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Developing-a-ROS-2-Package.html">Developing a ROS 2 package</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Using colcon to build packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="Ament-CMake-Documentation.html">ament_cmake user documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="Launch-system.html">Launching/monitoring multiple nodes with Launch</a></li>
<li class="toctree-l2"><a class="reference internal" href="Node-arguments.html">Passing ROS arguments to nodes via the command-line</a></li>
<li class="toctree-l2"><a class="reference internal" href="Introspection-with-command-line-tools.html">Introspection with command line tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="RQt-Overview-Usage.html">Overview and usage of RQt</a><ul>
<li class="toctree-l3"><a class="reference internal" href="RQt-Source-Install.html">Building RQt from source</a><ul>
<li class="toctree-l4"><a class="reference internal" href="RQt-Source-Install-MacOS.html">Building RQt from source on macOS</a></li>
<li class="toctree-l4"><a class="reference internal" href="RQt-Source-Install-Windows10.html">Building RQt from source on Windows 10</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Composition.html">Composing multiple nodes in a single process</a></li>
<li class="toctree-l2"><a class="reference internal" href="Ros2bag/Overriding-QoS-Policies-For-Recording-And-Playback.html">Overriding QoS Policies For Recording And Playback</a></li>
<li class="toctree-l2"><a class="reference internal" href="Sync-Vs-Async.html">Synchronous vs. asynchronous service clients</a></li>
<li class="toctree-l2"><a class="reference internal" href="Working-with-multiple-RMW-implementations.html">Working with multiple ROS 2 middleware implementations</a></li>
<li class="toctree-l2"><a class="reference internal" href="catment.html">On the mixing of ament and catkin (catment)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Cross-compilation.html">Cross-compilation</a></li>
<li class="toctree-l2"><a class="reference internal" href="Allocator-Template-Tutorial.html">Implement a custom memory allocator</a></li>
<li class="toctree-l2"><a class="reference internal" href="Releasing-a-ROS-2-package-with-bloom.html">Releasing a ROS 2 package with bloom</a></li>
<li class="toctree-l2"><a class="reference internal" href="RQt-Port-Plugin-Windows.html">Porting RQt plugins to Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="Run-2-nodes-in-a-single-docker-container.html">Running 2 nodes in a single docker container [community-contributed]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Run-2-nodes-in-two-separate-docker-containers.html">Running 2 nodes in 2 separate docker containers [community-contributed]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Deploying-ROS-2-on-IBM-Cloud.html">ROS2 on IBM Cloud Kubernetes [community-contributed]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Launch-files-migration-guide.html">Migrating launch files from ROS 1 to ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="Eclipse-Oxygen-with-ROS-2-and-rviz2.html">Eclipse Oxygen with ROS 2 and rviz2 [community-contributed]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Building-ROS-2-on-Linux-with-Eclipse-Oxygen.html">Building ROS 2 on Linux with Eclipse Oxygen [community-contributed]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Building-Realtime-rt_preempt-kernel-for-ROS-2.html">Building realtime Linux for ROS 2 [community-contributed]</a></li>
<li class="toctree-l2"><a class="reference internal" href="Parameters-YAML-files-migration-guide.html">Migrating YAML parameter files from ROS 1 to ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="Quality-of-Service.html">Use quality-of-service settings to handle lossy networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="Managed-Nodes.html">Management of nodes with managed lifecycles</a></li>
<li class="toctree-l2"><a class="reference internal" href="Intra-Process-Communication.html">Efficient intra-process communication</a></li>
<li class="toctree-l2"><a class="reference internal" href="Rosbag-with-ROS1-Bridge.html">Recording and playback of topic data with rosbag using the ROS 1 bridge</a></li>
<li class="toctree-l2"><a class="reference internal" href="tf2.html">Using tf2 with ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="URDF/Using-URDF-with-Robot-State-Publisher.html">Using URDF with robot_state_publisher</a></li>
<li class="toctree-l2"><a class="reference internal" href="Real-Time-Programming.html">Real-time programming in ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="dummy-robot-demo.html">Trying the dummy robot demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="Logging-and-logger-configuration.html">Logging and logger configuration demo</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Concepts.html">Concepts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/DDS-and-ROS-middleware-implementations.html">About different ROS 2 DDS/RTPS vendors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Quality-of-Service-Settings.html">About Quality of Service settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-ROS-Interfaces.html">About ROS 2 interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/ROS-2-Client-Libraries.html">About ROS 2 client libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/Logging.html">About logging and logger configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-ROS-2-Parameters.html">About parameters in ROS 2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Troubleshooting.html">Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Troubleshooting/Installation-Troubleshooting.html">Installation troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Troubleshooting/DDS-tuning.html">DDS tuning information</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Contributing/ROS-2-On-boarding-Guide.html">ROS 2 on-boarding guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Contributing/Developer-Guide.html">ROS 2 developer guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Contributing/Code-Style-Language-Versions.html">Code style and language versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Contributing/Design-Guide.html">Design guide: common patterns in ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Contributing/Quality-Guide.html">Quality guide: ensuring code quality</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Contributing/Build-Cop-and-Build-Farmer-Guide.html">Build cop and build farmer guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Contributing/CI-Server-Setup.html">How to setup the Jenkins master</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Contributing/Set-up-a-new-Linux-CI-node.html">How to setup Linux Jenkins nodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Contributing/Set-up-a-new-macOS-CI-node.html">How to setup a macOS Jenkins node</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Contributing/Set-up-a-new-Windows-CI-node.html">How to setup a Windows Jenkins node</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Contributing/Migration-Guide.html">Migration guide from ROS 1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Contributing/Migration-Guide-Python.html">Python migration guide from ROS 1</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Contributing/Examples-and-Tools-for-ROS1----ROS2-Migrations.html">Examples and tools for ROS1-to-ROS2 migration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Contributing/Inter-Sphinx-Support.html">Using Sphinx for cross-referencing packages</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Contact.html">Contact</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ROSCon-Content.html">ROSCon Content</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Releases.html">Distributions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Alpha-Overview.html">ROS 2 alpha releases (Aug 2015 - Oct 2016)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Beta1-Overview.html">Beta 1 (codename ‘Asphalt’; December 2016)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Beta2-Overview.html">Beta 2 (codename ‘r2b2’; July 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Beta3-Overview.html">Beta 3 (codename ‘r2b3’; September 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Ardent-Apalone.html">ROS 2 Ardent Apalone (codename ‘ardent’; December 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Bouncy-Bolson.html">ROS 2 Bouncy Bolson (codename ‘bouncy’; June 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Crystal-Clemmys.html">ROS 2 Crystal Clemmys (codename ‘crystal’; December 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Dashing-Diademata.html">ROS 2 Dashing Diademata (codename ‘dashing’; May 31st, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Eloquent-Elusor.html">ROS 2 Eloquent Elusor (codename ‘eloquent’; November 22nd, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Foxy-Fitzroy.html">ROS 2 Foxy Fitzroy (codename ‘foxy’; June 5th, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Galactic-Geochelone.html">ROS 2 Galactic Geochelone (codename ‘galactic’; May, 2021)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Howto.html">How to release</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Rolling-Ridley.html">ROS 2 Rolling Ridley (codename ‘rolling’; June 2020)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Features.html">Features Status</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Roadmap.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Feature-Ideas.html">Feature Ideas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Governance.html">Project Governance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Marketing.html">Marketing Materials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Related-Projects.html">Related Projects</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Related-Projects/Intel-ROS2-Projects.html">Intel ROS 2 Projects</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ROS 2 Documentation: Eloquent</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../Tutorials.html">Tutorials</a> &raquo;</li>
      <li>Using colcon to build packages</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ros2/ros2_documentation/blob/eloquent/source/Tutorials/Colcon-Tutorial.rst" class="fa fa-github"> 在 GitHub 上修改</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             

<p>
  <strong>
    
    You're reading the documentation for a version of ROS 2 that has reached its EOL (end-of-life), and is no longer officially supported.
    If you want up-to-date information, please have a look at <a href="../../galactic/Tutorials/Colcon-Tutorial.html">Galactic</a>.
    
  </strong>
</p>


  <div class="section" id="using-colcon-to-build-packages">
<span id="colcon"></span><h1>Using colcon to build packages<a class="headerlink" href="#using-colcon-to-build-packages" title="永久链接至标题"></a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#background" id="id1">Background</a></p></li>
<li><p><a class="reference internal" href="#prerequisites" id="id2">Prerequisites</a></p>
<ul>
<li><p><a class="reference internal" href="#install-colcon" id="id3">Install colcon</a></p></li>
<li><p><a class="reference internal" href="#install-ros-2" id="id4">Install ROS 2</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#basics" id="id5">Basics</a></p>
<ul>
<li><p><a class="reference internal" href="#create-a-workspace" id="id6">Create a workspace</a></p></li>
<li><p><a class="reference internal" href="#add-some-sources" id="id7">Add some sources</a></p></li>
<li><p><a class="reference internal" href="#source-an-underlay" id="id8">Source an underlay</a></p></li>
<li><p><a class="reference internal" href="#build-the-workspace" id="id9">Build the workspace</a></p></li>
<li><p><a class="reference internal" href="#run-tests" id="id10">Run tests</a></p></li>
<li><p><a class="reference internal" href="#source-the-environment" id="id11">Source the environment</a></p></li>
<li><p><a class="reference internal" href="#try-a-demo" id="id12">Try a demo</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#create-your-own-package" id="id13">Create your own package</a></p></li>
<li><p><a class="reference internal" href="#tips" id="id14">Tips</a></p></li>
</ul>
</div>
<p>This is a brief tutorial of how to create and build a ROS 2 workspace with <code class="docutils literal notranslate"><span class="pre">colcon</span></code>.
It is a practical tutorial and not designed to replace the core documentation.</p>
<div class="section" id="background">
<h2><a class="toc-backref" href="#id1">Background</a><a class="headerlink" href="#background" title="永久链接至标题"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">colcon</span></code> is an iteration on the ROS build tools <code class="docutils literal notranslate"><span class="pre">catkin_make</span></code>, <code class="docutils literal notranslate"><span class="pre">catkin_make_isolated</span></code>, <code class="docutils literal notranslate"><span class="pre">catkin_tools</span></code> and <code class="docutils literal notranslate"><span class="pre">ament_tools</span></code>.
For more information on the design of colcon see <a class="reference external" href="https://design.ros2.org/articles/build_tool.html">this document</a>.</p>
<p>The source code can be found in the <a class="reference external" href="https://github.com/colcon">colcon GitHub organization</a>.</p>
</div>
<div class="section" id="prerequisites">
<h2><a class="toc-backref" href="#id2">Prerequisites</a><a class="headerlink" href="#prerequisites" title="永久链接至标题"></a></h2>
<div class="section" id="install-colcon">
<h3><a class="toc-backref" href="#id3">Install colcon</a><a class="headerlink" href="#install-colcon" title="永久链接至标题"></a></h3>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-TGludXg=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-TGludXg=" name="TGludXg=" role="tab" tabindex="0">Linux</button><button aria-controls="panel-0-bWFjT1M=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-bWFjT1M=" name="bWFjT1M=" role="tab" tabindex="-1">macOS</button><button aria-controls="panel-0-V2luZG93cw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-V2luZG93cw==" name="V2luZG93cw==" role="tab" tabindex="-1">Windows</button></div><div aria-labelledby="tab-0-TGludXg=" class="sphinx-tabs-panel group-tab" id="panel-0-TGludXg=" name="TGludXg=" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt install python3-colcon-common-extensions
</pre></div>
</div>
</div><div aria-labelledby="tab-0-bWFjT1M=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-bWFjT1M=" name="bWFjT1M=" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3 -m pip install colcon-common-extensions
</pre></div>
</div>
</div><div aria-labelledby="tab-0-V2luZG93cw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-V2luZG93cw==" name="V2luZG93cw==" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install -U colcon-common-extensions
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="install-ros-2">
<h3><a class="toc-backref" href="#id4">Install ROS 2</a><a class="headerlink" href="#install-ros-2" title="永久链接至标题"></a></h3>
<p>To build the samples, you will need to install ROS 2.</p>
<p>Follow the <a class="reference internal" href="../Installation.html"><span class="doc">installation instructions</span></a>.</p>
<div class="admonition attention">
<p class="admonition-title">注意</p>
<p>If installing from Debian packages, this tutorial requires the <a class="reference internal" href="../Installation/Linux-Install-Debians.html#linux-install-debians-install-ros-2-packages"><span class="std std-ref">desktop installation</span></a>.</p>
</div>
</div>
</div>
<div class="section" id="basics">
<h2><a class="toc-backref" href="#id5">Basics</a><a class="headerlink" href="#basics" title="永久链接至标题"></a></h2>
<p>A ROS workspace is a directory with a particular structure.
Commonly there is a <code class="docutils literal notranslate"><span class="pre">src</span></code> subdirectory.
Inside that subdirectory is where the source code of ROS packages will be located.
Typically the directory starts otherwise empty.</p>
<p>colcon does out of source builds.
By default it will create the following directories as peers of the <code class="docutils literal notranslate"><span class="pre">src</span></code> directory:</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">build</span></code> directory will be where intermediate files are stored.
For each package a subfolder will be created in which e.g. CMake is being invoked.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">install</span></code> directory is where each package will be installed to.
By default each package will be installed into a separate subdirectory.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">log</span></code> directory contains various logging information about each colcon invocation.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>Compared to catkin there is no <code class="docutils literal notranslate"><span class="pre">devel</span></code> directory.</p>
</div>
<div class="section" id="create-a-workspace">
<h3><a class="toc-backref" href="#id6">Create a workspace</a><a class="headerlink" href="#create-a-workspace" title="永久链接至标题"></a></h3>
<p>First, create a directory (<code class="docutils literal notranslate"><span class="pre">ros2_example_ws</span></code>) to contain our workspace:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-TGludXg=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-TGludXg=" name="TGludXg=" role="tab" tabindex="0">Linux</button><button aria-controls="panel-1-bWFjT1M=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-bWFjT1M=" name="bWFjT1M=" role="tab" tabindex="-1">macOS</button><button aria-controls="panel-1-V2luZG93cw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-V2luZG93cw==" name="V2luZG93cw==" role="tab" tabindex="-1">Windows</button></div><div aria-labelledby="tab-1-TGludXg=" class="sphinx-tabs-panel group-tab" id="panel-1-TGludXg=" name="TGludXg=" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir -p ~/ros2_example_ws/src
<span class="nb">cd</span> ~/ros2_example_ws
</pre></div>
</div>
</div><div aria-labelledby="tab-1-bWFjT1M=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-bWFjT1M=" name="bWFjT1M=" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir -p ~/ros2_example_ws/src
<span class="nb">cd</span> ~/ros2_example_ws
</pre></div>
</div>
</div><div aria-labelledby="tab-1-V2luZG93cw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-V2luZG93cw==" name="V2luZG93cw==" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>md <span class="se">\d</span>ev<span class="se">\r</span>os2_example_ws<span class="se">\s</span>rc
<span class="nb">cd</span> <span class="se">\d</span>ev<span class="se">\r</span>os2_example_ws
</pre></div>
</div>
</div></div>
<p>At this point the workspace contains a single empty directory <code class="docutils literal notranslate"><span class="pre">src</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>.
└── src

<span class="m">1</span> directory, <span class="m">0</span> files
</pre></div>
</div>
</div>
<div class="section" id="add-some-sources">
<h3><a class="toc-backref" href="#id7">Add some sources</a><a class="headerlink" href="#add-some-sources" title="永久链接至标题"></a></h3>
<p>Let’s clone the <a class="reference external" href="https://github.com/ros2/examples">examples</a> repository into the <code class="docutils literal notranslate"><span class="pre">src</span></code> directory of the workspace:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/ros2/examples src/examples
</pre></div>
</div>
<div class="admonition attention">
<p class="admonition-title">注意</p>
<p>It is recommended to checkout a branch that is compatible with the version of ROS that was installed (e.g. <code class="docutils literal notranslate"><span class="pre">crystal</span></code>).</p>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~/ros2_example_ws/src/examples/
git checkout <span class="nv">$ROS_DISTRO</span>
<span class="nb">cd</span> ~/ros2_example_ws
</pre></div>
</div>
<p>Now the workspace should have the source code to the ROS 2 examples:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>.
└── src
    └── examples
        ├── CONTRIBUTING.md
        ├── LICENSE
        ├── rclcpp
        ├── rclpy
        └── README.md

<span class="m">4</span> directories, <span class="m">3</span> files
</pre></div>
</div>
</div>
<div class="section" id="source-an-underlay">
<h3><a class="toc-backref" href="#id8">Source an underlay</a><a class="headerlink" href="#source-an-underlay" title="永久链接至标题"></a></h3>
<p>It is important that we have sourced the environment for an existing ROS 2 installation that will provide our workspace with the necessary build dependencies for the example packages.
This is achieved by sourcing the setup script provided by a binary installation or a source installation, ie. another colcon workspace (see <a class="reference internal" href="../Installation.html"><span class="doc">Installation</span></a>).
We call this environment an <strong>underlay</strong>.</p>
<p>Our workspace, <code class="docutils literal notranslate"><span class="pre">ros2_examples_ws</span></code>, will be an <strong>overlay</strong> on top of the existing ROS 2 installation.
In general, it is recommended to use an overlay when you plan to iterate on a small number of packages, rather than putting all of your packages into the same workspace.</p>
</div>
<div class="section" id="build-the-workspace">
<h3><a class="toc-backref" href="#id9">Build the workspace</a><a class="headerlink" href="#build-the-workspace" title="永久链接至标题"></a></h3>
<div class="admonition attention">
<p class="admonition-title">注意</p>
<p>To build packages on Windows you need to be in a Visual Studio environment, see <a class="reference internal" href="../Installation/Windows-Development-Setup.html#windows-dev-build-ros2"><span class="std std-ref">Building the ROS 2 Code</span></a> for more details.</p>
</div>
<p>In the root of the workspace, run <code class="docutils literal notranslate"><span class="pre">colcon</span> <span class="pre">build</span></code>.
Since build types such as <code class="docutils literal notranslate"><span class="pre">ament_cmake</span></code> do not support the concept of the <code class="docutils literal notranslate"><span class="pre">devel</span></code> space and require the package to be installed, colcon supports the option <code class="docutils literal notranslate"><span class="pre">--symlink-install</span></code>.
This allows the installed files to be changed by changing the files in the <code class="docutils literal notranslate"><span class="pre">source</span></code> space (e.g. Python files or other not compiled resourced) for faster iteration.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>colcon build --symlink-install
</pre></div>
</div>
<p>After the build is finished, we should see the <code class="docutils literal notranslate"><span class="pre">build</span></code>, <code class="docutils literal notranslate"><span class="pre">install</span></code>, and <code class="docutils literal notranslate"><span class="pre">log</span></code> directories:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>.
├── build
├── install
├── log
└── src

<span class="m">4</span> directories, <span class="m">0</span> files
</pre></div>
</div>
</div>
<div class="section" id="run-tests">
<span id="colcon-run-the-tests"></span><h3><a class="toc-backref" href="#id10">Run tests</a><a class="headerlink" href="#run-tests" title="永久链接至标题"></a></h3>
<p>To run tests for the packages we just built, run the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>colcon <span class="nb">test</span>
</pre></div>
</div>
</div>
<div class="section" id="source-the-environment">
<h3><a class="toc-backref" href="#id11">Source the environment</a><a class="headerlink" href="#source-the-environment" title="永久链接至标题"></a></h3>
<p>When colcon has completed building successfully, the output will be in the <code class="docutils literal notranslate"><span class="pre">install</span></code> directory.
Before you can use any of the installed executables or libraries, you will need to add them to your path and library paths.
colcon will have generated bash/bat files in the <code class="docutils literal notranslate"><span class="pre">install</span></code> directory to help setup the environment.
These files will add all of the required elements to your path and library paths as well as provide any bash or shell commands exported by packages.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-TGludXg=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-2-TGludXg=" name="TGludXg=" role="tab" tabindex="0">Linux</button><button aria-controls="panel-2-bWFjT1M=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-bWFjT1M=" name="bWFjT1M=" role="tab" tabindex="-1">macOS</button><button aria-controls="panel-2-V2luZG93cw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-V2luZG93cw==" name="V2luZG93cw==" role="tab" tabindex="-1">Windows</button></div><div aria-labelledby="tab-2-TGludXg=" class="sphinx-tabs-panel group-tab" id="panel-2-TGludXg=" name="TGludXg=" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>. install/setup.bash
</pre></div>
</div>
</div><div aria-labelledby="tab-2-bWFjT1M=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-bWFjT1M=" name="bWFjT1M=" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>. install/setup.bash
</pre></div>
</div>
</div><div aria-labelledby="tab-2-V2luZG93cw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-V2luZG93cw==" name="V2luZG93cw==" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>call install<span class="se">\s</span>etup.bat
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="try-a-demo">
<h3><a class="toc-backref" href="#id12">Try a demo</a><a class="headerlink" href="#try-a-demo" title="永久链接至标题"></a></h3>
<p>With the environment sourced we can run executables built by colcon.
Let’s run a subscriber node from the examples:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2 run examples_rclcpp_minimal_subscriber subscriber_member_function
</pre></div>
</div>
<p>In another terminal, let’s run a publisher node (don’t forget to source the setup script):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2 run examples_rclcpp_minimal_publisher publisher_member_function
</pre></div>
</div>
<p>You should see messages from the publisher and subscriber with numbers incrementing.</p>
</div>
</div>
<div class="section" id="create-your-own-package">
<h2><a class="toc-backref" href="#id13">Create your own package</a><a class="headerlink" href="#create-your-own-package" title="永久链接至标题"></a></h2>
<p>colcon uses the <code class="docutils literal notranslate"><span class="pre">package.xml</span></code> specification defined in <a class="reference external" href="https://www.ros.org/reps/rep-0149.html">REP 149</a> (<a class="reference external" href="https://www.ros.org/reps/rep-0140.html">format 2</a> is also supported).</p>
<p>colcon supports multiple build types.
The recommended build types are <code class="docutils literal notranslate"><span class="pre">ament_cmake</span></code> and <code class="docutils literal notranslate"><span class="pre">ament_python</span></code>.
Also supported are pure <code class="docutils literal notranslate"><span class="pre">cmake</span></code> packages.</p>
<p>An example of an <code class="docutils literal notranslate"><span class="pre">ament_python</span></code> build is the <a class="reference external" href="https://github.com/ament/ament_index/tree/eloquent/ament_index_python">ament_index_python package</a> , where the setup.py is the primary entry point for building.</p>
<p>A package such as <a class="reference external" href="https://github.com/ros2/demos/tree/eloquent/demo_nodes_cpp">demo_nodes_cpp</a> uses the <code class="docutils literal notranslate"><span class="pre">ament_cmake</span></code> build type, and uses CMake as the build tool.</p>
<p>For convenience, you can use the tool <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">pkg</span> <span class="pre">create</span></code> to create a new package based on a template.</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>For <code class="docutils literal notranslate"><span class="pre">catkin</span></code> users, this is the equivalent of <code class="docutils literal notranslate"><span class="pre">catkin_create_package</span></code>.</p>
</div>
</div>
<div class="section" id="tips">
<h2><a class="toc-backref" href="#id14">Tips</a><a class="headerlink" href="#tips" title="永久链接至标题"></a></h2>
<ul>
<li><p>If you do not want to build a specific package place an empty file named <code class="docutils literal notranslate"><span class="pre">COLCON_IGNORE</span></code> in the directory and it will not be indexed.</p></li>
<li><p>If you want to avoid configuring and building tests in CMake packages you can pass: <code class="docutils literal notranslate"><span class="pre">--cmake-args</span> <span class="pre">-DBUILD_TESTING=0</span></code>.</p></li>
<li><p>If you want to run a single particular test from a package:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>colcon <span class="nb">test</span> --packages-select YOUR_PKG_NAME --ctest-args -R YOUR_TEST_IN_PKG
</pre></div>
</div>
</li>
</ul>
</div>
</div>



           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Developing-a-ROS-2-Package.html" class="btn btn-neutral float-left" title="Developing a ROS 2 package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="Ament-CMake-Documentation.html" class="btn btn-neutral float-right" title="ament_cmake user documentation" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2021, Open Robotics.</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用了 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a>开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: eloquent
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Releases</dt>
        <dd><a href="../../galactic/Tutorials/Colcon-Tutorial.html">Galactic (latest)</a></dd>
        <dd><a href="../../foxy/Tutorials/Colcon-Tutorial.html">Foxy</a></dd>
        <dd><a href="Colcon-Tutorial.html">Eloquent (EOL)</a></dd>
        
        <dd><a href="../../dashing/Tutorials/Colcon-Tutorial.html">Dashing</a></dd>
        <dd><a href="../../crystal/Tutorials/Colcon-Tutorial.html">Crystal (EOL)</a></dd>
        
    </dl>
    <dl>
      <dt>In Development</dt>
      <dd><a href="../../xin/Tutorials/Colcon-Tutorial.html">Xin</a></dd>
      <dd><a href="../../rolling/Tutorials/Colcon-Tutorial.html">Rolling</a></dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>