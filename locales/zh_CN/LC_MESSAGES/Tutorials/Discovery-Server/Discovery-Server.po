# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2021, Open Robotics
# This file is distributed under the same license as the ROS 2 documentation
# package.
# FIRST AUTHOR <EMAIL@ADDRESS>, 2021.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: ROS 2 documentation \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2021-12-16 10:02+0800\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=utf-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Generated-By: Babel 2.9.0\n"

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:6
msgid ""
"Using Fast DDS Discovery Server as discovery protocol [community-"
"contributed]"
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:8
msgid ""
"**Goal:** This tutorial will show how to launch ROS 2 Nodes using the "
"**Fast DDS Discovery Server** discovery protocol."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:10
msgid "**Tutorial level:** Intermediate"
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:12
msgid "**Time:** 20 minutes"
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:16
msgid "Table of Contents"
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:19
msgid "Background"
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:21
msgid ""
"Starting from ROS 2 Eloquent Elusor, the **Fast DDS Discovery Server** "
"protocol is a feature that offers a centralized dynamic discovery "
"mechanism, as opposed to the distributed mechanism used in DDS by "
"default. This tutorial explains how to run some ROS 2 examples using the "
"Fast DDS Discovery Server feature as discovery communication."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:24
msgid ""
"In order to get more information about the available discovery "
"configuration, please check the `following documentation <https://fast-"
"dds.docs.eprosima.com/en/v2.1.0/fastdds/discovery/discovery.html>`_ or "
"read the `Fast DDS Discovery Server specific documentation <https://fast-"
"dds.docs.eprosima.com/en/v2.1.0/fastdds/discovery/discovery_server.html"
"#discovery-server>`__."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:26
msgid ""
"The `Simple Discovery Protocol <https://fast-"
"dds.docs.eprosima.com/en/v2.1.0/fastdds/discovery/simple.html>`__ is the "
"standard protocol defined in the `DDS standard <https://www.omg.org/omg-"
"dds-portal/>`__. However, it has known disadvantages in some scenarios."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:29
msgid ""
"It does not **Scale** efficiently, as the number of exchanged packets "
"increases significantly as new nodes are added."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:30
msgid ""
"It requires **multicasting** capabilities that may not work reliably in "
"some scenarios, e.g. WiFi."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:32
msgid ""
"The **Fast DDS Discovery Server** provides a Client-Server Architecture "
"that allows nodes to connect with each other using an intermediate "
"server. Each node functions as a *discovery client*, sharing its info "
"with one or more *discovery servers* and receiving discovery information "
"from it. This reduces discovery-related network traffic and it does not "
"require multicasting capabilities."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:39
msgid ""
"These discovery servers can be independent, duplicated or connected with "
"each other in order to create redundancy over the network and avoid "
"having a single point of failure."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:42
msgid "Fast DDS Discovery Server v2"
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:44
msgid ""
"The latest ROS 2 Foxy Fitzroy release (December 2020) included a new "
"version, version 2 of the Fast DDS Discovery Server. This version "
"includes a new filter feature that further reduces the number of "
"discovery messages sent. This version uses the topic of the different "
"nodes to decide if two nodes wish to communicate, or if they can be left "
"unmatched (i.e. not discovering each other). The following figure shows "
"the decrease in discovery messages:"
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:52
msgid ""
"This architecture reduces the number of messages sent between the server "
"and clients dramatically. In the following graph, the reduction in "
"network traffic over the discovery phase for the `RMF Clinic "
"demonstration <https://github.com/osrf/rmf_demos#Clinic-World>`__ is "
"shown:"
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:59
msgid ""
"In order to use this functionality, the discovery server can be "
"configured using the `XML configuration for Participants <https://fast-"
"dds.docs.eprosima.com/en/v2.1.0/fastdds/discovery/discovery_server.html"
"#discovery-server>`__. It is also possible to configure the discovery "
"server using the ``fastdds`` `tool <https://fast-"
"dds.docs.eprosima.com/en/v2.1.0/fastddscli/cli/cli.html#discovery>`__ and"
" an `environment variable <https://fast-"
"dds.docs.eprosima.com/en/v2.1.0/fastdds/env_vars/env_vars.html>`__, which"
" is the approach used in this tutorial. For a more detailed explanation "
"about the configuration of the discovery server, visit `the Fast DDS "
"Discovery Server documentation <https://fast-"
"dds.docs.eprosima.com/en/v2.1.0/fastdds/discovery/discovery_server.html"
"#discovery-server>`__."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:65
msgid "Prerequisites"
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:67
msgid ""
"This tutorial assumes you have a ROS 2 Foxy (or newer) :doc:`installation"
" <../../Installation>`. If your installation is using a ROS 2 version "
"lower than Foxy, you cannot use the ``fastdds`` tool. Thus, in order to "
"use the Discovery Server, you can update your repository to use a "
"different Fast DDS version, or configure the discovery server using the "
"`Fast DDS XML QoS configuration <https://fast-"
"dds.docs.eprosima.com/en/v2.1.0/fastdds/discovery/discovery_server.html"
"#discovery-server>`__."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:73
msgid "Run this tutorial"
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:75
msgid ""
"The ``talker-listener`` ROS 2 demo creates a ``talker`` node that "
"publishes a \"hello world\" message every second, and a ``listener`` node"
" that listens to these messages."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:77
msgid ""
"By :doc:`sourcing ROS 2 <../Configuring-ROS2-Environment>` you will get "
"access to the CLI tool ``fastdds``. This tool gives access to the "
"`discovery tool <https://fast-"
"dds.docs.eprosima.com/en/v2.1.0/fastddscli/cli/cli.html#discovery>`__, "
"which can be used to launch a discovery server. This server will manage "
"the discovery process for the nodes that connect to it."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:82
msgid ""
"Do not forget to :doc:`source ROS 2 <../Configuring-ROS2-Environment>` in"
" every new terminal opened."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:86
msgid "Setup Discovery Server"
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:88
msgid ""
"Start by launching a discovery server with id 0, port 11811 (default "
"port) and listening on all available interfaces."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:90
msgid "Open a new terminal and run:"
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:98
msgid "Launch listener node"
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:100
msgid "Execute the listener demo, to listen to the ``/chatter`` topic."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:102
msgid ""
"In a new terminal, set the environment variable ``ROS_DISCOVERY_SERVER`` "
"to the location of the discovery server. (Do not forget to source ROS 2 "
"in every new terminal)"
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:109
msgid ""
"Launch the listener node. Use the argument ``--remap "
"__node:=listener_discovery_server`` to change the node's name for this "
"tutorial."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:115
msgid ""
"This will create a ROS 2 node, that will automatically create a client "
"for the discovery server and connect to the server created previously to "
"perform discovery, rather than using multicast."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:119
msgid "Launch talker node"
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:121
msgid ""
"Open a new terminal and set the ``ROS_DISCOVERY_SERVER`` environment "
"variable as before so that the node starts a discovery client."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:128
msgid ""
"You should now see the talker publishing \"hello world\" messages, and "
"the listener receiving these messages."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:132
msgid "Demonstrate Discovery Server execution"
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:134
msgid ""
"So far, there is no evidence that this example and the standard talker-"
"listener example are running differently. To clearly demonstrate this, "
"run another node that is not connected to the discovery server. Run a new"
" listener (listening in ``/chatter`` topic by default) in a new terminal "
"and check that it is not connected to the talker already running."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:142
msgid ""
"The new listener node should not be receiving the \"hello world\" "
"messages."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:144
msgid ""
"To finally verify that everything is running correctly, a new talker can "
"be created using the simple discovery protocol (the default DDS "
"distributed discovery mechanism) for discovery."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:150
msgid ""
"Now you should see the ``simple_listener`` node receiving the \"hello "
"world\" messages from ``simple_talker`` but not the other messages from "
"``talker_discovery_server``."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:154
msgid "Visualization tool ``rqt_graph``"
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:156
msgid ""
"The ``rqt_graph`` tool can be used to verify the nodes and structure of "
"this example. Remember, in order to use ``rqt_graph`` with the discovery "
"server protocol (i.e., to see the ``listener_discovery_server`` and "
"``talker_discovery_server`` nodes) the ``ROS_DISCOVERY_SERVER`` "
"environment variable must be set before launching it."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:161
msgid "Advance use cases"
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:163
msgid ""
"The following sections show different features of the discovery server "
"that allow you to build a robust discovery server over the network."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:166
msgid "Server Redundancy"
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:168
msgid ""
"By using ``fastdds`` tool, multiple discovery servers can be created. "
"Discovery clients (ROS nodes) can connect to as many servers as desired. "
"This allows to have a redundant network that will work even if some "
"servers or nodes shut down unexpectedly. The figure below shows a simple "
"architecture that provides server redundancy."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:176
msgid ""
"In several terminals, run the following code to establish a communication"
" with redundant servers."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:186
msgid ""
"``--server-id N`` means server with id N. When referencing the servers "
"with ``ROS_DISCOVERY_SERVER``, server ``0`` must be in first place and "
"server ``1`` in second place."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:198
msgid ""
"Now, if one of these servers fails, there will still be discovery "
"capability available and nodes will still discover each other."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:202
msgid "Backup Server"
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:204
msgid ""
"The Fast DDS Discovery Server allows creating a server with backup "
"functionality. This allows the server to restore the last state it saved "
"in case of a shutdown."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:210
msgid ""
"In different terminals, run the following code to establish a "
"communication with a backed-up server."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:226
msgid ""
"Several backup files are created in the discovery server's working "
"directory (the directory it was launched in). The two ``SQLite`` files "
"and two ``json`` files contain the information required to start a new "
"server and restore the failed server's state in case of failure, avoiding"
" the need for the discovery process to happen again, and without losing "
"information."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:231
msgid "Discovery partitions"
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:233
msgid ""
"Communication with discovery servers can be split to create virtual "
"partitions in the discovery information. This means that two endpoints "
"will only know about each other if there is a shared discovery server or "
"a network of discovery servers between them. We are going to execute an "
"example with two independent servers. The following figure shows the "
"architecture."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:241
msgid ""
"With this schema ``Listener 1`` will be connected to ``Talker 1`` and "
"``Talker 2``, as they share ``Server 1``. ``Listener 2`` will connect "
"with ``Talker 1`` as they share ``Server 2``. But ``Listener 2`` will not"
" hear the messages from ``Talker 2`` because they do not share any "
"discovery server or discovery servers, including indirectly via "
"connections between redundant discovery servers."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:245
msgid ""
"Run the first server listening on localhost with the default port of "
"11811."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:251
msgid ""
"In another terminal run the second server listening on localhost using "
"another port, in this case port 11888."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:257
msgid ""
"Now, run each node in a different terminal. Use ``ROS_DISCOVERY_SERVER`` "
"environment variable to decide which server they are connected to. Be "
"aware that the `ids must match <https://fast-"
"dds.docs.eprosima.com/en/v2.1.0/fastdds/env_vars/env_vars.html>`__."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:279
msgid ""
"We should see how ``Listener 1`` is receiving messages from both talker "
"nodes, while ``Listener 2`` is in a different partition from ``Talker 2``"
" and so does not receive messages from it."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:283
msgid ""
"Once two endpoints (ROS nodes) have discovered each other, they do not "
"need the discovery server network between them to listen to each other's "
"messages."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:288
msgid "Compare Fast DDS Discovery Server with Simple Discovery Protocol"
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:290
msgid ""
"In order to compare executing nodes using the Simple Discovery Protocol "
"(the default DDS mechanism for distributed discovery) or the discovery "
"server, two scripts that execute a talker and many listeners and analyze "
"the network traffic during this time are provided. For this experiment, "
"``tshark`` is required to be installed on your system. The configuration "
"file is mandatory in order to avoid using intraprocess mode."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:296
msgid ""
"These scripts require a discovery server closure feature that is only "
"available from versions newer than the version provided in ROS 2 Foxy. In"
" order to use this functionality, compile ROS 2 with Fast DDS v2.1.0 or "
"higher."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:299
msgid ""
"These scripts' features are references for advanced purposes and their "
"study is left to the user."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:301
msgid ""
":download:`bash network traffic generator "
"<scripts/generate_discovery_packages.bash>`"
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:303
msgid ":download:`python3 graph generator <scripts/discovery_packets.py>`"
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:305
msgid ":download:`XML configuration <scripts/no_intraprocess_configuration.xml>`"
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:307
msgid ""
"Run the bash script with the path to ``setup.bash`` file to source ROS 2 "
"as an argument. This will generate the traffic trace for simple "
"discovery. Execute the same script with second argument ``SERVER``. It "
"will generate the trace for using the discovery server."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:314
msgid ""
"Depending on your configuration of ``tcpdump``, this script may require "
"``sudo`` privileges to read traffic across your network device."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:316
msgid ""
"After both executions are done, run the Python script to generate a graph"
" similar to the one below."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:328
msgid ""
"This graph is the result of a specific run of the experiment. The reader "
"can execute the scripts and generate their own results for comparison. It"
" can easily be seen that network traffic is reduced when using discovery "
"service."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:332
msgid ""
"The reduction in traffic is a result of avoiding every node announcing "
"itself and waiting a response from every other node on the network. This "
"creates a huge amount of traffic in large architectures. The reduction "
"from this method increases with the number of nodes, making this "
"architecture more scalable than the Simple Discovery Protocol approach."
msgstr ""

#: ../../source/Tutorials/Discovery-Server/Discovery-Server.rst:336
msgid ""
"The new Fast DDS Discovery Server v2 is available since *Fast DDS* "
"v2.0.2, replacing the old discovery server. In this new version, those "
"nodes that do not share topics will automatically not discover each "
"other, saving the whole discovery data required to connect them and their"
" endpoints. The experiment above does not show this case, but even so the"
" massive reduction in traffic can be appreciated due to the hidden "
"infrastructure topics of ROS 2 nodes."
msgstr ""

