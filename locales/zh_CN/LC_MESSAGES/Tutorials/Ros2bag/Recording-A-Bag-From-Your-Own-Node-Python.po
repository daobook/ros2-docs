# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2021, Open Robotics
# This file is distributed under the same license as the ROS 2 documentation
# package.
# FIRST AUTHOR <EMAIL@ADDRESS>, 2021.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: ROS 2 documentation \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2021-12-16 10:02+0800\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=utf-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Generated-By: Babel 2.9.0\n"

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:4
msgid "Recording a bag from your own node (Python)"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:6
msgid "**Goal:** Record data from your own Python node to a bag."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:8
msgid "**Tutorial level:** Advanced"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:10
msgid "**Time:** 20 minutes"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:14
msgid "Contents"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:17
msgid "Background"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:19
msgid ""
"``rosbag2`` doesn't just provide the ``ros2 bag`` command line tool. It "
"also provides a Python API for reading from and writing to a bag from "
"your own source code. This allows you to subscribe to a topic and save "
"the received data to a bag at the same time as performing any other "
"processing of your choice on that data. You may do this, for example, to "
"save data from a topic and the result of processing that data without "
"needing to send the processed data over a topic just to record it. "
"Because any data can be recorded in a bag, it is also possible to save "
"data generated by another source than a topic, such as synthetic data for"
" training sets. This is useful, for example, for quickly generating a bag"
" that contains a large number of samples spread over a long playback "
"time."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:27
msgid "Prerequisites"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:29
msgid ""
"You should have the ``rosbag2`` packages installed as part of your "
"regular ROS 2 setup."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:31
msgid ""
"If you've installed from Debian packages on Linux, it may be installed by"
" default. If it is not, you can install it using this command."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:38
msgid ""
"This tutorial discusses using ROS 2 bags, including from the terminal. "
"You should have already completed the :doc:`basic ROS 2 bag tutorial "
"<./Recording-And-Playing-Back-Data>`."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:42
msgid "Tasks"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:45
msgid "1 Create a package"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:47
msgid ""
"Open a new terminal and :doc:`source your ROS 2 installation "
"<../Configuring-ROS2-Environment>` so that ``ros2`` commands will work."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:49
msgid ""
"Navigate into the ``dev_ws`` directory created in a :ref:`previous "
"tutorial <new-directory>`. Navigate into the ``dev_ws/src`` directory and"
" create a new package:"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:56
msgid ""
"Your terminal will return a message verifying the creation of your "
"package ``bag_recorder_nodes_py`` and all its necessary files and "
"folders. The ``--dependencies`` argument will automatically add the "
"necessary dependency lines to ``package.xml``.txt``. In this case, the "
"package will use the ``rosbag2_py`` package as well as the ``rclpy`` "
"package. A dependency on the ``example_interfaces`` package is also "
"required for message definitions."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:62
msgid "1.1 Update ``package.xml`` and ``setup.py``"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:64
msgid ""
"Because you used the ``--dependencies`` option during package creation, "
"you don't have to manually add dependencies to ``package.xml``.txt``. As "
"always, though, make sure to add the description, maintainer email and "
"name, and license information to ``package.xml``."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:73
msgid "Also be sure to add this information to the ``setup.py`` file as well."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:83
msgid "2 Write the Python node"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:85
msgid ""
"Inside the ``dev_ws/src/bag_recorder_nodes_py/bag_recorder_nodes_py`` "
"directory, create a new file called ``simple_bag_recorder.py`` and paste "
"the following code into it."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:138
msgid "2.1 Examine the code"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:140
msgid ""
"The ``import`` statements at the top are the package dependencies. Note "
"the importation of the ``rosbag2_py`` package for the functions and "
"structures necessary to work with bag files."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:143
msgid ""
"In the class constructor, we begin by creating the writer object that we "
"will use to write to the bag. We are creating a ``SequentialWriter``, "
"which writes messages into the bag in the order received. Other writers "
"with different behaviours may be available in the [``rosbag2`` "
"source](https://github.com/ros2/rosbag2/tree/master/rosbag2_cpp/include/rosbag2_cpp/writers)."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:151
msgid ""
"Now that we have a writer object, we can open the bag using it. We "
"specify the URI of the bag to create and the format (``sqlite3``), "
"leaving other options at their defaults. The default conversion options "
"are used, which will perform no conversion and store the messages in the "
"serialization format they are received in."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:163
msgid ""
"Next, we need to tell the writer about the topics we wish to store. This "
"is done by creating a ``TopicMetadata`` object and registering it with "
"the writer. This object specifies the topic name, topic data type, and "
"serialization format used."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:175
msgid ""
"With the writer now set up to record data we pass to it, we create a "
"subscription and specify a callback for it. We will write data to the bag"
" in the callback."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:187
msgid ""
"The callback receives the message in unserialized form (as is standard "
"for the ``rclpy`` API) and passes the message to the writer, specifying "
"the topic that the data is for and the timestamp to record with the "
"message. However, the writer requires serialised message to store in the "
"bag. This means that we need to serialise the data before passing it to "
"the writer. For this reason, we call ``serialize_message()`` and pass the"
" result of that to the writer, rather than passing in the message "
"directly."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:200
msgid ""
"The file finishes with the ``main`` function used to create an instance "
"of the node and start ROS processing it."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:211
msgid "2.2 Add entry point"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:213
#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:412
#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:569
msgid ""
"Open the ``setup.py`` file in the ``bag_recorder_nodes_py`` package and "
"add an entry point for your node."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:225
msgid "3 Build and run"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:227
msgid ""
"Navigate back to the root of your workspace, ``dev_ws``, and build your "
"new package."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:231
#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:253
#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:430
#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:452
#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:588
#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:610
msgid "Linux"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:237
#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:259
#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:436
#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:458
#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:594
#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:616
msgid "macOS"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:243
#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:265
#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:442
#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:464
#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:600
#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:622
msgid "Windows"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:249
#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:448
msgid "Open a new terminal, navigate to ``dev_ws``, and source the setup files."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:271
#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:472
msgid "Now run the node:"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:277
msgid "Open a second terminal and run the ``talker`` example node."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:283
msgid ""
"This will start publishing data on the ``chatter`` topic. As the bag-"
"writing node receives this data, it will write it to the ``my_bag`` bag. "
"If the ``my_bag`` directory already exists, you must first delete it "
"before running the ``simple_bag_recorder`` node. This is because "
"``rosbag2`` will not overwrite existing bags by default, and so the "
"destination directory cannot exist."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:288
msgid ""
"Terminate both nodes. Then, in one terminal start the ``listener`` "
"example node."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:295
msgid ""
"In the other terminal, use ``ros2 bag`` to play the bag recorded by your "
"node."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:301
msgid ""
"You will see the messages from the bag being received by the ``listener``"
" node."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:303
msgid ""
"If you wish to run the bag-writing node again, you will first need to "
"delete the ``my_bag`` directory."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:306
msgid "4 Record synthetic data from a node"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:308
msgid ""
"Any data can be recorded into a bag, not just data received over a topic."
" A common use case for writing to a bag from your own node is to generate"
" and store synthetic data. In this section you will learn how to write a "
"node that generates some data and stores it in a bag. We will demonstrate"
" two approaches for doing this. The first uses a node with a timer; this "
"is the approach that you would use if your data generation is external to"
" the node, such as reading data directly from hardware (e.g. a camera). "
"The second approach does not use a node; this is the approach you can use"
" when you do not need to use any functionality from the ROS "
"infrastructure."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:316
msgid "4.1 Write a Python node"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:318
msgid ""
"Inside the ``dev_ws/src/bag_recorder_nodes_py/bag_recorder_nodes_py`` "
"directory, create a new file called ``data_generator_node.py`` and paste "
"the following code into it."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:369
msgid "4.2 Examine the code"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:371
msgid ""
"Much of this code is the same as the first example. The important "
"differences are described here."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:374
msgid "First, the name of the bag is changed."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:382
msgid "The name of the topic is also changed, as is the data type stored."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:392
msgid ""
"Rather than a subscription to a topic, this node has a timer. The timer "
"fires with a one-second period, and calls the given member function when "
"it does."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:399
msgid ""
"Within the timer callback, we generate (or otherwise obtain, e.g. read "
"from a serial port connected to some hardware) the data we wish to store "
"in the bag. As with the previous example, the data is not yet serialised,"
" so we must serialise it before passing it to the writer."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:410
msgid "4.3 Add executable"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:424
msgid "4.4 Build and run"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:426
#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:584
msgid ""
"Navigate back to the root of your workspace, ``dev_ws``, and build your "
"package."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:470
msgid ""
"If the ``timed_synthetic_bag`` directory already exists, you must first "
"delete it before running the node."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:478
msgid ""
"Wait for 30 seconds or so, then terminate the node with ``ctrl-c``. Next,"
" play back the created bag."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:485
#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:644
msgid "Open a second terminal and echo the ``/synthetic`` topic."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:491
msgid ""
"You will see the data that was generated and stored in the bag printed to"
" the console at a rate of one message per second."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:494
msgid "5 Record synthetic data from an executable"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:496
msgid ""
"Now that you can create a bag that stores data from a source other than a"
" topic, you will learn how to generate and record synthetic data from a "
"non-node executable. The advantage of this approach is simpler code and "
"rapid creation of a large quantity of data."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:500
msgid "5.1 Write a Python executable"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:502
msgid ""
"Inside the ``dev_ws/src/bag_recorder_nodes_py/bag_recorder_nodes_py`` "
"directory, create a new file called ``data_generator_executable.py`` and "
"paste the following code into it."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:543
msgid "5.2 Examine the code"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:545
msgid ""
"A comparison of this sample and the previous sample will reveal that they"
" are not that different. The only significant difference is the use of a "
"for loop to drive the data generation rather than a timer."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:548
msgid ""
"Notice that we are also now generating time stamps for the data rather "
"than relying on the current system time for each sample. The time stamp "
"can be any value you need it to be. The data will be played back at the "
"rate given by these time stamps, so this is a useful way to control the "
"default playback speed of the samples. Notice also that while the gap "
"between each sample is a full second in time, this executable does not "
"need to wait a second between each sample. This allows us to generate a "
"lot of data covering a wide span of time in much less time than playback "
"will take."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:567
msgid "5.3 Add executable"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:582
msgid "5.4 Build and run"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:606
msgid "Open a terminal, navigate to ``dev_ws``, and source the setup files."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:628
msgid ""
"If the ``big_synthetic_bag`` directory already exists, you must first "
"delete it before running the executable."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:630
msgid "Now run the executable:"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:636
msgid "Note that the executable runs and finishes very quickly."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:638
msgid "Now play back the created bag."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:650
msgid ""
"You will see the data that was generated and stored in the bag printed to"
" the console at a rate of one message per second. Even though the bag was"
" generated rapidly it is still played back at the rate the time stamps "
"indicate."
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:654
msgid "Summary"
msgstr ""

#: ../../source/Tutorials/Ros2bag/Recording-A-Bag-From-Your-Own-Node-Python.rst:656
msgid ""
"You created a node that records data it receives on a topic into a bag. "
"You tested recording a bag using the node, and verified the data was "
"recorded by playing back the bag. This approach can be used to record a "
"bag with additional data than it received over a topic, for example with "
"results obtained from processing the received data. You then went on to "
"create a node and an executable to generate synthetic data and store it "
"in a bag. The latter approaches are useful especially for generating "
"synthetic data that can be used, for example, as training sets."
msgstr ""

